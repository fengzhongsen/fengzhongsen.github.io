(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{443:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("React 是一个优秀前端框架的典型，它在架构上融合了数据驱动视图、组件化、函数式编程、面向对象、Fiber 等经典设计“哲学”，在底层技术选型上涉及了 JSX、虚拟 DOM 等经典解决方案，在周边生态上至少涵盖了状态管理和前端路由两大领域的最佳实践。此外，它还自建了状态管理机制与事件系统，创造性地在前端框架中引入了 Hooks 思想等。")]),t._v(" "),s("h1",{attrs:{id:"一、聊聊-jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、聊聊-jsx"}},[t._v("#")]),t._v(" 一、聊聊 JSX")]),t._v(" "),s("ol",[s("li",[t._v("定义：JSX 是 JavaScript 的一种语法扩展，它和模板语言很接近，但是它充分具备 JavaScript 的能力")]),t._v(" "),s("li",[t._v("作用：降低学习成本，提高开发体验和效率")]),t._v(" "),s("li",[t._v("工作流程：JSX 会被 Babel 编译为 "),s("code",[t._v("React.createElement()")]),t._v("，"),s("code",[t._v("React.createElement()")]),t._v("将返回一个 ReactElement 的 JS 对象。即虚拟 DOM 的一个节点")]),t._v(" "),s("li",[s("code",[t._v("createElement")]),t._v(" API 和 "),s("code",[t._v("ReactElement()")]),t._v(" 构造函数的关系："),s("code",[t._v("createElement(type, config, ...children)")]),t._v("，接收三个参数，type 可能是原生 HTML 标签字符串，也可能是 React Component 类型 或 React Fragment 类型，其中首先从 "),s("code",[t._v("config")]),t._v(" 中提取出 "),s("code",[t._v("ref")]),t._v("、"),s("code",[t._v("key")]),t._v("、"),s("code",[t._v("source")]),t._v("、"),s("code",[t._v("__self")]),t._v("、"),s("code",[t._v("props")]),t._v(" 等信息，其次是通过遍历 "),s("code",[t._v("type.defaultProps")]),t._v(" 属性，对 "),s("code",[t._v("props")]),t._v(" 设置默认值，最后将 "),s("code",[t._v("ref")]),t._v("、"),s("code",[t._v("key")]),t._v("、"),s("code",[t._v("source")]),t._v("、"),s("code",[t._v("__self")]),t._v("、"),s("code",[t._v("props")]),t._v(" 等传递给 "),s("code",[t._v("ReactElement()")]),t._v(" 构造函数生成 ReactElement 对象")]),t._v(" "),s("li",[t._v("补充：虚拟 DOM 与真实 DOM 的链接者就是 "),s("code",[t._v("ReactDOM.render()")])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要渲染的元素（ReactElement）")]),t._v("\n  container"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 元素挂载的目标容器（一个真实DOM）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回调函数，可选参数，可以用来处理渲染结束后的逻辑")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h1",{attrs:{id:"二、设计理念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、设计理念"}},[t._v("#")]),t._v(" 二、设计理念")]),t._v(" "),s("h2",{attrs:{id:"_2-1-虚拟-dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-虚拟-dom"}},[t._v("#")]),t._v(" 2.1 虚拟 DOM")]),t._v(" "),s("ol",[s("li",[t._v("组件初始化：通过生命周期中的 render 方法生成虚拟 DOM，再通过 ReactDOM.render 实现虚拟 DOM 到真实 DOM 的转换")]),t._v(" "),s("li",[t._v("组件更新时：通过生命周期中的 render 方法生成"),s("strong",[t._v("新的虚拟 DOM")]),t._v("，再通过 diff 算法定位出两次虚拟 DOM 的差异，针对变化的真实 DOM 作定向更新")])]),t._v(" "),s("h2",{attrs:{id:"_2-2-组件化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-组件化"}},[t._v("#")]),t._v(" 2.2 组件化")]),t._v(" "),s("ol",[s("li",[t._v("封闭：每个组件内部只处理它内部的渲染逻辑，没有数据交互的情况下各自为政")]),t._v(" "),s("li",[t._v("开放：基于“单向数据流”原则完成组件间通信，对渲染结果构成影响")])]),t._v(" "),s("h2",{attrs:{id:"_2-3-生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-生命周期"}},[t._v("#")]),t._v(" 2.3 生命周期")]),t._v(" "),s("ol",[s("li",[t._v("灵魂：render 函数是 React 的“灵魂”，组件的初始化和更新都离不开 render")]),t._v(" "),s("li",[t._v("躯干：生命周期函数是 React 的”躯干”，与 render 一起构成了 React 的“生命时间轴”")])]),t._v(" "),s("h1",{attrs:{id:"三、生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、生命周期"}},[t._v("#")]),t._v(" 三、生命周期")]),t._v(" "),s("h2",{attrs:{id:"_3-1-react-15-生命周期函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-react-15-生命周期函数"}},[t._v("#")]),t._v(" 3.1 React 15 生命周期函数")]),t._v(" "),s("ol",[s("li",[t._v("组件挂载（初始化渲染）："),s("code",[t._v("constructor()")]),t._v(">"),s("code",[t._v("componentWillMount")]),t._v(">"),s("code",[t._v("render()")]),t._v(">"),s("code",[t._v("componentDidMount()")])]),t._v(" "),s("li",[t._v("组件更新（由父组件触发）："),s("code",[t._v("componentWillReceiveProps()")]),t._v(">"),s("code",[t._v("shouldComponentUpdate()")]),t._v(">"),s("code",[t._v("componentWillUpdate()")]),t._v(">"),s("br"),t._v(" "),s("code",[t._v("render()")]),t._v(">"),s("code",[t._v("componentDidUpdate()")])]),t._v(" "),s("li",[t._v("组件更新（由自身触发）："),s("code",[t._v("shouldComponentUpdate()")]),t._v(">"),s("code",[t._v("componentWillUpdate()")]),t._v(">"),s("code",[t._v("render()")]),t._v(">"),s("code",[t._v("componentDidUpdate()")])]),t._v(" "),s("li",[t._v("组件卸载："),s("code",[t._v("componentWillUnmount()")])])]),t._v(" "),s("blockquote",[s("p",[t._v("注意：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("componentWillReceiveProps(nextProps)")]),t._v("，无论"),s("code",[t._v("props")]),t._v("有无变化，只要父组件更新，就会触发")]),t._v(" "),s("li",[s("code",[t._v("shouldComponentUpdate(nextProps, nextState)")]),t._v("，默认返回"),s("code",[t._v("true")]),t._v("，通过逻辑判断返回"),s("code",[t._v("false")]),t._v("阻止重新渲染，达到优化的目的，也可以使用"),s("code",[t._v("PureComponent")]),t._v("代替"),s("code",[t._v("Component")]),t._v("来实现“有条件的 re-render”")]),t._v(" "),s("li",[s("code",[t._v("componentWillUnmount()")]),t._v("，在父组件中被移除会触发，此外如果组件设置了 key，在父组件 render 过程中发现 key 值和上次不一致也会被卸载")])])]),t._v(" "),s("h2",{attrs:{id:"_3-2-react-16-生命周期函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-react-16-生命周期函数"}},[t._v("#")]),t._v(" 3.2 React 16 生命周期函数")]),t._v(" "),s("ol",[s("li",[t._v("组件挂载（初始化渲染）："),s("code",[t._v("constructor()")]),t._v(">"),s("code",[t._v("static getDerivedStateFromProps()")]),t._v(">"),s("code",[t._v("render()")]),t._v(">"),s("code",[t._v("componentDidMount()")])]),t._v(" "),s("li",[t._v("组件更新："),s("code",[t._v("static getDerivedStateFromProps()")]),t._v(">"),s("code",[t._v("shouldComponentUpdate()")]),t._v(">"),s("code",[t._v("render()")]),t._v(">"),s("br"),t._v(" "),s("code",[t._v("getSnapshotBeforeUpdate()")]),t._v(">"),s("code",[t._v("componentDidUpdate()")])]),t._v(" "),s("li",[t._v("组件卸载："),s("code",[t._v("componentWillUnmount()")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("h3",{attrs:{id:"static-getderivedstatefromprops-props-state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#static-getderivedstatefromprops-props-state"}},[t._v("#")]),t._v(" "),s("code",[t._v("static getDerivedStateFromProps(props, state)")])]),t._v(" "),s("ol",[s("li",[t._v("接收两个参数分别代表来自父组件的"),s("code",[t._v("props")]),t._v("和自身的"),s("code",[t._v("state")]),t._v("，使用"),s("code",[t._v("props")]),t._v("来派生/更新"),s("code",[t._v("state")])]),t._v(" "),s("li",[t._v("返回值之所以不可或缺，因为 React 需要用这个返回值来派生/更新组件的"),s("code",[t._v("state")]),t._v("。返回值对"),s("code",[t._v("state")]),t._v("的更新动作并非“覆盖”式的，而是针对某个属性的定向更新")]),t._v(" "),s("li",[t._v("静态方法，内部不能访问 "),s("code",[t._v("this")])]),t._v(" "),s("li",[t._v("意义：确保生命周期函数的行为更加可控可预测，从根源上帮开发者避免不合理的编程方式，避免生命周期的滥用（类似于"),s("code",[t._v("this.fetch()")]),t._v("、"),s("code",[t._v("this.setState")]),t._v("等可能会产生副作用的操作）；同时，也是在为新的 Fiber 架构铺路")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("h3",{attrs:{id:"getsnapshotbeforeupdate-prevprops-prevstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getsnapshotbeforeupdate-prevprops-prevstate"}},[t._v("#")]),t._v(" "),s("code",[t._v("getSnapshotBeforeUpdate(prevProps, prevState)")])]),t._v(" "),s("ol",[s("li",[t._v("执行时机是在"),s("code",[t._v("render()")]),t._v("方法之后，真实 DOM 更新之前，可以同时获取到更新前的真实DOM和更新后的"),s("code",[t._v("state``props")]),t._v("信息")]),t._v(" "),s("li",[t._v("返回值会作为第三个参数给到"),s("code",[t._v("componentDidUpdate(prevProps, prevState, valueFromSnapshot)")])]),t._v(" "),s("li",[t._v("要想发挥作用，必须配合"),s("code",[t._v("componentDidUpdate()")]),t._v("使用")])])]),s("blockquote",[s("p",[t._v("注意：")]),t._v(" "),s("ol",[s("li",[t._v("React 16 之前"),s("code",[t._v("render()")]),t._v("只允许返回单个元素，而 React 16 可以返回数组和字符串")]),t._v(" "),s("li",[t._v("废弃了"),s("code",[t._v("componentWillMount()")]),t._v("、"),s("code",[t._v("componentWillReceiveProps()")]),t._v("、"),s("code",[t._v("componentWillUpdate()")])]),t._v(" "),s("li",[t._v("新增了"),s("code",[t._v("static getDerivedStateFromProps()")]),t._v("、"),s("code",[t._v("getSnapshotBeforeUpdate()")])]),t._v(" "),s("li",[t._v("更新流程中，在 v16.3 版本时，只有父组件的更新才会触发"),s("code",[t._v("static getDerivedStateFromProps()")]),t._v("，在 v16.4 中，任何因素触发的组件更新流程（包括由"),s("code",[t._v("this.setState")]),t._v("和"),s("code",[t._v("forceUpdate")]),t._v("触发的更新流程）都会触发")])])]),t._v(" "),s("h2",{attrs:{id:"_3-3-fiber-架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-fiber-架构"}},[t._v("#")]),t._v(" 3.3 Fiber 架构")]),t._v(" "),s("ol",[s("li",[t._v("React 16 改造生命周期的主要动机是为了配合 Fiber 架构带来的异步渲染机制")]),t._v(" "),s("li",[t._v("Fiber 会使原本同步的渲染过程变成异步的")]),t._v(" "),s("li",[t._v("Fiber 会将一个大的更新任务拆解为许多个小任务。每当执行完一个小任务时，渲染线程都会把主线程交回去，看看有没有优先级更高的工作要处理")]),t._v(" "),s("li",[t._v("在 Fiber 机制下，render 阶段是允许暂停、终止和重启的，而且重启是重头执行的。"),s("code",[t._v("componentWillMount()")]),t._v("、"),s("code",[t._v("componentWillReceiveProps()")]),t._v("、"),s("code",[t._v("componentWillUpdate()")]),t._v("都处在render阶段，风险很大")])]),t._v(" "),s("h1",{attrs:{id:"四、组件通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、组件通信"}},[t._v("#")]),t._v(" 四、组件通信")]),t._v(" "),s("ol",[s("li",[t._v("组件：从概念上类似于JavaScript函数，它接受任意的入参（即"),s("code",[t._v("props")]),t._v("），并返回用于描述页面展示内容的React元素")]),t._v(" "),s("li",[t._v("单向数据流：当组件的"),s("code",[t._v("state")]),t._v("以"),s("code",[t._v("props")]),t._v("的形式流动时，只能流向组件树中比自己层级更低的组件。只能从父到子，不能反过来")]),t._v(" "),s("li",[t._v("父-子组件通信："),s("code",[t._v("props")])]),t._v(" "),s("li",[t._v("子-父组件通信：通过在"),s("code",[t._v("props")]),t._v("上传入函数，例如"),s("code",[t._v("onClick")])]),t._v(" "),s("li",[t._v("兄弟组件通信：通过父组件作为中介者")]),t._v(" "),s("li",[t._v("结偶的通信方式：发布-订阅模式，EventEmitter")]),t._v(" "),s("li",[t._v("Context API")]),t._v(" "),s("li",[t._v("Redux")])]),t._v(" "),s("h1",{attrs:{id:"五、hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、hooks"}},[t._v("#")]),t._v(" 五、Hooks")]),t._v(" "),s("h2",{attrs:{id:"_5-1-类组件和函数组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-类组件和函数组件"}},[t._v("#")]),t._v(" 5.1 类组件和函数组件")]),t._v(" "),s("h3",{attrs:{id:"类组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类组件"}},[t._v("#")]),t._v(" 类组件")]),t._v(" "),s("ol",[s("li",[t._v("面向对象编程")]),t._v(" "),s("li",[t._v("重")])]),t._v(" "),s("h3",{attrs:{id:"函数组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数组件"}},[t._v("#")]),t._v(" 函数组件")]),t._v(" "),s("ol",[s("li",[t._v("函数式编程")]),t._v(" "),s("li",[t._v("轻")])]),t._v(" "),s("h3",{attrs:{id:"差异"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#差异"}},[t._v("#")]),t._v(" 差异")]),t._v(" "),s("ol",[s("li",[t._v("类组件需要继承 class，函数组件不能")]),t._v(" "),s("li",[t._v("类组件可以访问生命周期方法，函数组件不能")]),t._v(" "),s("li",[t._v("类组件可以获取到实例化后的 this，并基于这个this做各种事情，二函数组件不能")]),t._v(" "),s("li",[t._v("类组件中可以定义并维护state（状态），而函数组件不可以")]),t._v(" "),s("li",[t._v("......")])]),t._v(" "),s("h2",{attrs:{id:"react-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-hooks"}},[t._v("#")]),t._v(" React-Hooks")]),t._v(" "),s("ol",[s("li",[t._v("函数组件会捕获 render 内部的状态，这是两类组件最大的不同。所以函数组件更符合React的设计理念")]),t._v(" "),s("li",[t._v("React-Hooks 强化了函数组件的能力，帮助函数组件补全了生命周期、"),s("code",[t._v("state")]),t._v("管理等能力")]),t._v(" "),s("li",[t._v("可以灵活定制")])]),t._v(" "),s("h3",{attrs:{id:"为什么选择-react-hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么选择-react-hooks"}},[t._v("#")]),t._v(" 为什么选择 React-Hooks")]),t._v(" "),s("ol",[s("li",[t._v("告别难以理解的 Class。比如 this 和 生命周期函数")]),t._v(" "),s("li",[t._v("解决业务逻辑难以拆分的问题。比如在class组件里，订阅和卸载订阅这一组逻辑会分布在didMound 和 willUnmount 两个生命周期中。useEffect 则可以分组放在一起")]),t._v(" "),s("li",[t._v("使状态逻辑复用变得简单可行")]),t._v(" "),s("li",[t._v("函数组件设计思想上来看，更加契合React的理念")])]),t._v(" "),s("h3",{attrs:{id:"局限性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#局限性"}},[t._v("#")]),t._v(" 局限性")]),t._v(" "),s("ol",[s("li",[t._v("尚未补齐类组件的全部能力，比如 getSnapshotBeforeUpdate、componentDidCatch")]),t._v(" "),s("li",[t._v("在业务复杂的情况啊集，耦合内聚的边界很难把握")]),t._v(" "),s("li",[t._v("有着严格的规则约束")])]),t._v(" "),s("h3",{attrs:{id:"使用原则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用原则"}},[t._v("#")]),t._v(" 使用原则")]),t._v(" "),s("ol",[s("li",[t._v("只在 React 函数中调用 Hook")]),t._v(" "),s("li",[t._v("不在循环、条件或嵌套函数中调用 Hook")])]),t._v(" "),s("h3",{attrs:{id:"原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),s("ol",[s("li",[t._v("首次渲染："),s("code",[t._v("useState")]),t._v(">"),s("code",[t._v("mountState")]),t._v(">返回目标数组(如[state, setState]);")]),t._v(" "),s("li",[t._v("更新阶段："),s("code",[t._v("useState")]),t._v(">"),s("code",[t._v("updateState")]),t._v(">返回目标数组(如[state, setState]);")])]),t._v(" "),s("p",[t._v("底层实现依赖于顺序链表。mountState（首次渲染）构建链表并渲染；updateState 依次遍历链表并渲染。")]),t._v(" "),s("h1",{attrs:{id:"六、虚拟-dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、虚拟-dom"}},[t._v("#")]),t._v(" 六、虚拟 DOM")]),t._v(" "),s("ol",[s("li",[t._v("定义：虚拟 DOM 本质是 JS 和 DOM 之间的一个映射缓存，它在形态上表现为一个能够描述 DOM 结构及其属性信息的 JS 对象。")]),t._v(" "),s("li",[t._v("工作：组件初始化：通过生命周期中的 render 方法生成虚拟 DOM，再通过 ReactDOM.render 实现虚拟 DOM 到真实 DOM 的转换。组件更新时：通过生命周期中的 render 方法生成"),s("strong",[t._v("新的虚拟 DOM")]),t._v("，再通过 diff 算法定位出两次虚拟 DOM 的差异，针对变化的真实 DOM 作定向更新。")]),t._v(" "),s("li",[t._v("优劣：优势在于减少了DOM操作，劣势在于JS大量的计算非常耗时。因为DOM操作和JS计算的能耗不在一个量级，所以说在一般的场景下，虚拟DOM是具有性能优势的。")]),t._v(" "),s("li",[t._v("价值：提高了开发体验和效率，虚拟DOM的概念被应用到各个前端的框架。")])]),t._v(" "),s("h1",{attrs:{id:"七、diff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、diff"}},[t._v("#")]),t._v(" 七、Diff")]),t._v(" "),s("h2",{attrs:{id:"react-15-的栈调和算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-15-的栈调和算法"}},[t._v("#")]),t._v(" React 15 的栈调和算法")]),t._v(" "),s("ol",[s("li",[t._v("分层对比；")]),t._v(" "),s("li",[t._v("类型一致才有继续Diff的必要；")]),t._v(" "),s("li",[t._v("key属性的设置，尽可能重用节点。")])]),t._v(" "),s("h1",{attrs:{id:"八、setstate-同步还是异步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、setstate-同步还是异步"}},[t._v("#")]),t._v(" 八、setState 同步还是异步")]),t._v(" "),s("p",[t._v("setState 并不是单纯同步/异步的，它的表现会因调用场景的不同而不同：在 React 钩子函数及合成事件中，它表现为异步；而在 setTimeout、setInterval 等函数中，包括DOM原生事件中，它都表现为同步。这种差异，本质上是由React事务机制和批量更新机制的工作方式决定的。")]),t._v(" "),s("h1",{attrs:{id:"九、fiber"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、fiber"}},[t._v("#")]),t._v(" 九、Fiber")]),t._v(" "),s("p",[t._v("特点：可中断、可恢复、优先级")]),t._v(" "),s("h1",{attrs:{id:"十、redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、redux"}},[t._v("#")]),t._v(" 十、Redux")]),t._v(" "),s("h2",{attrs:{id:"_10-1-认识-flux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-认识-flux"}},[t._v("#")]),t._v(" 10.1 认识 Flux")]),t._v(" "),s("p",[t._v("Flux 不是一个具体的框架，是由 Facebook 技术团队提出的应用架构，这套架构约束的是**“应用处理数据的模式”**。")]),t._v(" "),s("h1",{attrs:{id:"十一、reactrouter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十一、reactrouter"}},[t._v("#")]),t._v(" 十一、ReactRouter")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hashchange'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'popstate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h1",{attrs:{id:"十二、性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十二、性能优化"}},[t._v("#")]),t._v(" 十二、性能优化")]),t._v(" "),s("ol",[s("li",[t._v("使用 shouldComponentUpdate 规避冗余的更新逻辑")]),t._v(" "),s("li",[t._v("PureComponent + Immutable.js")]),t._v(" "),s("li",[t._v("React.memo 与 useMemo")])]),t._v(" "),s("h2",{attrs:{id:"_12-1-shouldcomponentupdate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-shouldcomponentupdate"}},[t._v("#")]),t._v(" 12.1 shouldComponentUpdate")]),t._v(" "),s("ol",[s("li",[t._v("返回 false 阻止更新")]),t._v(" "),s("li",[t._v("可以比较 props，也可以比较 state")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Child")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断 text 属性在父组件更新前后有没有发生变化，若没有发生变化，则返回 false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只有在 text 属性值确实发生变化时，才允许更新进行下去")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h2",{attrs:{id:"_12-2-purecomponent-immutable-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-purecomponent-immutable-js"}},[t._v("#")]),t._v(" 12.2 PureComponent + Immutable.js")]),t._v(" "),s("ol",[s("li",[t._v("无须手写"),s("code",[t._v("shouldComponentUpdate")]),t._v("，对组件更新前后的"),s("code",[t._v("props")]),t._v("和"),s("code",[t._v("state")]),t._v("进行浅比较。")]),t._v(" "),s("li",[t._v("Immutable，我们对当前数据的任何修改动作，都会导致一个新的对象的返回。")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Child")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PureComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Map "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'immutable'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" baseMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'修言'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("career")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'前端'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" changedMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" baseMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baseMap === changedMap'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" baseMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" changedMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"_12-3-react-memo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-3-react-memo"}},[t._v("#")]),t._v(" 12.3 React.memo")]),t._v(" "),s("ol",[s("li",[t._v("将在"),s("code",[t._v("shouldComponentUpdate")]),t._v("里边做的事情，放到"),s("code",[t._v("areEqual")]),t._v("里边。")]),t._v(" "),s("li",[t._v("当"),s("code",[t._v("areEqual")]),t._v("不传的时候会对"),s("code",[t._v("props")]),t._v("执行浅比较。但不会感知"),s("code",[t._v("state")]),t._v("的变化。")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将 Child 改写为 function 组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// areEqual 用于对比 props 的变化")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("areEqual")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 React.memo 来包装 ChildB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("memo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Child"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" areEqual"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h2",{attrs:{id:"_12-4-usememo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-4-usememo"}},[t._v("#")]),t._v(" 12.4 useMemo")]),t._v(" "),s("ol",[s("li",[t._v("精细的控制部分逻辑的重渲染。")]),t._v(" "),s("li",[t._v("如下"),s("code",[t._v("props.text")]),t._v("的改变不会触发"),s("code",[t._v("renderCount")]),t._v("。")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ChildB")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("renderText")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("renderCount")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useMemo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" countContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useMemo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"childB"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("textContent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("countContent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("h1",{attrs:{id:"十三、设计模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十三、设计模式"}},[t._v("#")]),t._v(" 十三、设计模式")]),t._v(" "),s("h2",{attrs:{id:"_13-1-高阶组件-hoc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-高阶组件-hoc"}},[t._v("#")]),t._v(" 13.1 高阶组件(HOC)")]),t._v(" "),s("p",[t._v("高阶组件（HOC）是 React 中用于复用组件逻辑的一种高级技巧。HOC 自身不是 React API 的一部分，它是一种基于 React 的组合特性而形成的设计模式。——React 官方")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkUserAccess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("withCheckAccess")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("WrappedComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do some common logic")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isAccessible "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkUserAccess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("targetComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"childC"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WrappedComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" isAccessible"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("isAccessible"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" targetComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ChildC "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withCheckAccess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ChildB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h2",{attrs:{id:"_13-2-render-props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-render-props"}},[t._v("#")]),t._v(" 13.2 Render Props")]),t._v(" "),s("p",[t._v("术语“render prop”是指一种在 React 组件之间使用一个值为函数的 prop 共享代码的简单技术。——React 官方")])])}),[],!1,null,null,null);s.default=n.exports}}]);