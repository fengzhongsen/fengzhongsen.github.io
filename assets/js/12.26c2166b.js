(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{423:function(s,t,a){"use strict";a.r(t);var e=a(2),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("在 Mac 上使用终端，在 WIndow 上建议使用 "),t("code",[s._v("Git Bash")]),s._v(" 。"),t("br"),s._v("\n假设服务器IP是 "),t("code",[s._v("120.130.140.150")]),s._v(", 使用 "),t("code",[s._v("root")]),s._v(" 用户登录。")])]),s._v(" "),t("h2",{attrs:{id:"一、ip登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、ip登录"}},[s._v("#")]),s._v(" 一、IP登录")]),s._v(" "),t("p",[s._v("输入 "),t("code",[s._v("ssh 用户名@你的IP地址")]),s._v(" 后回车，再输入密码，如下。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ ssh root@120.130.140.150\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"}),t("p",[s._v("这里可能回遇到 "),t("code",[s._v("ssh: connect to host 120.79.21.151 port 22: Connection refused")]),s._v("，通常引发该问题的原因是以下前两个，当然也可能是你不太可能遇到的第三个原因:")]),s._v(" "),t("ol",[t("li",[s._v("22端口没开启外网访问")]),s._v(" "),t("li",[s._v("默认 "),t("code",[s._v("ssh")]),s._v(" 端口不是 "),t("code",[s._v("22")]),s._v(" , 假设是 "),t("code",[s._v("10089")]),s._v(" 。解决方案就是"),t("a",{attrs:{href:"#2"}},[s._v("别名登录")])]),s._v(" "),t("li",[s._v("之前使用过"),t("a",{attrs:{href:"#3"}},[s._v("SSH登录")]),s._v("，已经在 "),t("code",[s._v("~/.ssh/known_hosts")]),s._v(" 中添加了"),t("a",{attrs:{href:"#recode"}},[s._v("一条记录")]),s._v("，打开文件删除即可")])])]),t("p",[t("span",{attrs:{id:"2"}})]),s._v(" "),t("h2",{attrs:{id:"二、别名登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、别名登录"}},[s._v("#")]),s._v(" 二、别名登录")]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("~/.ssh/config")]),s._v(" 中加入以下配置，当然你可能没有 "),t("code",[s._v("config")]),s._v(" 文件，甚至没有 "),t("code",[s._v(".ssh")]),s._v(" 目录，那么请先行创建它。")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Host aliyun                 # 必选 | aliyun 是自定义的标识，看心情定义就好了\nHostName 120.130.140.150    # 必选 | 你的IP地址\nPort 10089                  # 非必选 | 默认是ssh端口是22的可以不写，若是其他端口一定要写\nUser root                   # 必选 | 登录服务器的用户名\nIdentitiesOnly yes          # 听我的写上\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("输入 "),t("code",[s._v("ssh aliyun")]),s._v(" 后回车，再输入密码，如下。")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ ssh aliyun\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"},[s._v("拓展：Linux 命令")]),t("ol",[t("li",[s._v("进入目标目录: "),t("code",[s._v("cd ~")])]),s._v(" "),t("li",[s._v("创建目录: "),t("code",[s._v("mkdir .ssh")])]),s._v(" "),t("li",[s._v("创建文件: "),t("code",[s._v("touch config")]),s._v(" 或者 "),t("code",[s._v("vim config")]),s._v("（不了解"),t("code",[s._v("vim")]),s._v("就直接用"),t("code",[s._v("touch")]),s._v("或"),t("code",[s._v("手动创建")]),s._v("）")])])]),t("p",[t("span",{attrs:{id:"3"}})]),s._v(" "),t("h2",{attrs:{id:"三、ssh登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、ssh登录"}},[s._v("#")]),s._v(" 三、SSH登录")]),s._v(" "),t("h3",{attrs:{id:"_3-1-创建-ssh-keys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建-ssh-keys"}},[s._v("#")]),s._v(" 3.1 创建 SSH Keys")]),s._v(" "),t("h4",{attrs:{id:"_1-关于-ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-关于-ssh"}},[s._v("#")]),s._v(" 1. 关于 SSH")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("SSH")]),s._v(" 协议，可以连接和验证远程服务器和服务，也可以在每次访问时无需提供用户名或密码即可连接到 "),t("code",[s._v("GitHub")]),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"_2-检查是否已经存在-ssh-keys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-检查是否已经存在-ssh-keys"}},[s._v("#")]),s._v(" 2. 检查是否已经存在 SSH Keys")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ ls -al ~/.ssh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("列出 "),t("code",[s._v("~/.ssh")]),s._v(" 里所有的文件，如果存在下列文件中的一个就是说明已经存在，可以直接跳到 "),t("code",[s._v("3.2")]),s._v("，如果没有则进行下一步。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# id_dsa.pub\n# id_ecdsa.pub\n# id_ed25519.pub\n# id_rsa.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"_3-生成-ssh-keys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-生成-ssh-keys"}},[s._v("#")]),s._v(" 3. 生成 "),t("code",[s._v("SSH Keys")])]),s._v(" "),t("p",[s._v("最简单的方法是，输入"),t("code",[s._v("ssh-keygen -t rsa")]),s._v("命令后直接按两次回车，就会在"),t("code",[s._v("~/.ssh")]),s._v("目录下生成"),t("code",[s._v("id_rsa")]),s._v(" 和 "),t("code",[s._v("id_rsa.pub")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ ssh-keygen -t rsa\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"},[s._v("拓展：非对称密钥")]),t("ol",[t("li",[s._v("私钥: "),t("code",[s._v("id_rsa")])]),s._v(" "),t("li",[s._v("公钥: "),t("code",[s._v("id_rsa.pub")])])])]),t("h3",{attrs:{id:"_3-2-将公钥添加到服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-将公钥添加到服务器"}},[s._v("#")]),s._v(" 3.2 将公钥添加到服务器")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('$ cat ~/.ssh/id_rsa.pub | ssh root@120.130.140.150 "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >>  ~/.ssh/authorized_keys"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中 "),t("code",[s._v("ssh root@120.130.140.150")]),s._v(" 就是"),t("code",[s._v("IP登录")]),s._v("中的命令, 可以使用"),t("a",{attrs:{href:"#2"}},[s._v("别名登录")]),s._v("中的命令代替，随后输入密码。完成这一步之后，以后再登录该服务器只需要用"),t("a",{attrs:{href:"#2"}},[s._v("别名登录")]),s._v("且不需要密码了，即只需要输入"),t("code",[s._v("ssh aliyun")]),s._v("就可以直接登录了。")]),s._v(" "),t("p",[t("span",{attrs:{id:"recode"}})]),s._v(" "),t("p",[s._v("这个操作会在 "),t("code",[s._v("~/.ssh/known_hosts")]),s._v(" 中添加一条类似如下的记录。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[120.130.140.150]:10089 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA0AYjUzafLeFPV86ol9oOg5p54A+mRZCZyxFtlXwLST7cLNb/NqtaAIEXAosnODU942fcIWdC8Oi66XZVEecMyoGh4n26UPnZfHprd4LdJrASsjCupiBd4akWN8XBwUWrwx+mKWjev3cH0QtUM85c6ZiP5+2od/qKLM+DamokImgotY0llAwrQnMjMagKTiWPE6ctontpfw2SPpTC5rOMNozd5sMwFZuxschk7hwxvinZp54tMFB6Ctxp49/thgbVGOYLQtXqZfXxDUIg3N6RM9eV1QltXNG5uSmXw1q5WO7g9NEMpstutNooOujQr0gF1dsDKTwKN+7lPdgsoqTu2w==\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("如果有GitHub账户，建议直接根据 "),t("a",{attrs:{href:"https://help.github.com/en/articles/connecting-to-github-with-ssh",target:"_blank",rel:"noopener noreferrer"}},[s._v("Connecting to GitHub with SSH"),t("OutboundLink")],1),s._v(" 生成 "),t("code",[s._v("SSH Keys")]),s._v(" 。")])]),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[s._v("#")]),s._v(" 参考文献")]),s._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys--2",target:"_blank",rel:"noopener noreferrer"}},[s._v("How To Set Up SSH Keys"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://help.github.com/en/articles/connecting-to-github-with-ssh",target:"_blank",rel:"noopener noreferrer"}},[s._v("Connecting to GitHub with SSH"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);